package jmwdev.testdome;

import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import java.util.Arrays;

public class MalwareAnalysis {

    static Logger log = LogManager.getLogger(MalwareAnalysis.class);

    public static int[] simulate(int[] entries) {
        // Solution
        int[] newEntries = entries.clone();
        for (int i = 0; i < entries.length; i++) {
            int neighborIndex1 = i - 3;
            int neighborIndex2 = i + 4;
            if (neighborIndex1 > 0 && entries[neighborIndex1] >= entries[i]) {
                newEntries[i] = 0;
            }
            if (neighborIndex2 < entries.length && entries[neighborIndex2] >= entries[i]) {
                newEntries[i] = 0;
            }
        }
        return newEntries;
    }

    public static void main(String[] args) {
        int[] records = {19, 2, 0, 87, 1, 40, 80, 77, 77, 77, 77};
        String result = Arrays.toString(simulate(records))
        log.info(result);
        // Expected output
        // [19, 0, 0, 87, 0, 0, 0, 77, 77, 0, 0]
    }
}